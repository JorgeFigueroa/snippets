## MAC
sysctl -a | grep -E --color 'machdep.cpu.features|VMX'   #check if virtualization is supported on macOS

brew install kubernetes-cli
kubectl version
kubectl version --client

brew install minikube
minikube start / stop / status
minikube dashboard --url
  http://127.0.0.1:58553/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/
 

docker ps # IMAGE gcr.io/k8s-minikube/kicbase:v0.0.3


##
kubectl run kbillingapp --image=sotobotero/udemy-devops:0.0.1 --port=80 80 # crear pod da image en dockerhub
kubectl get pods                 # listar pods
kubectl describe pod kbillingapp


Crear el servicio
kubectl expose pod kbillingapp --type=LoadBalancer --port 8080 --target-port=80  

Obtener la ipexterna del servicio en minikube
minikube service kbillingapp

Obtener los logs de un servicio
kubectl logs kbillingapp

Eliminar un pod
kubectl delete service kbillingapp

Eliminar un servicio
kubectl delete service kbillingapp

Consultar la version del apiserver
kubectl api-versions

Codificar un parametro
echo -n 'qwerty' | base64

Descodificar un parametro
echo  "cXdlcnR5" | base64 -d

Comandos necesario para apuntar el docker engine local hacia el registro de minikube
minikube docker-env
eval $(minikube -p minikube docker-env)

consultar la ip de minikube
minikube ip

